<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AutoTrack</title>
  <link rel="stylesheet" href="css/stylesheet.css"/>
</head>
<body class="dashboard-body">

  <!-- ══════════════════════════════════════ -->
  <!-- HEADER -->
  <!-- ══════════════════════════════════════ -->
  <div class="header">
    <div class="header-brand">Auto<span>Track</span></div>
    <div class="header-right">
      <div class="header-user">Welcome, <strong id="usernameDisplay">—</strong></div>
      <button class="btn-ghost btn-sm" id="logoutButton">Log Out</button>
    </div>
  </div>

  <div class="app-body">

    <!-- ══════════════════════════════════════ -->
    <!-- SIDEBAR -->
    <!-- ══════════════════════════════════════ -->
    <nav class="sidebar">

      <div class="nav-item active" data-section="overview-section">
        <span class="nav-dot"></span> Overview
      </div>

      <div class="sidebar-section-label">Vehicles</div>
      <div class="nav-item" data-section="vehicles-section">
        <span class="nav-dot"></span> My Vehicles
      </div>

      <div class="sidebar-section-label">Tracking</div>
      <div class="nav-item" data-section="maintenance-section">
        <span class="nav-dot"></span> Maintenance Log
      </div>
      <div class="nav-item" data-section="reminders-section">
        <span class="nav-dot"></span> Reminders
      </div>
      <div class="nav-item" data-section="fuel-section">
        <span class="nav-dot"></span> Fuel Tracker
      </div>

      <div class="sidebar-section-label">Analytics</div>
      <div class="nav-item" data-section="costs-section">
        <span class="nav-dot"></span> Cost Dashboard
      </div>

      <div class="sidebar-section-label">Account</div>
      <div class="nav-item" data-section="profile-section">
        <span class="nav-dot"></span> Profile
      </div>

    </nav>

    <!-- ══════════════════════════════════════ -->
    <!-- MAIN CONTENT -->
    <!-- ══════════════════════════════════════ -->
    <main class="main-content">

      <!-- ── OVERVIEW ── -->
      <div class="section active" id="overview-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>Overview</h2>
            <p>A summary of your vehicles and recent activity.</p>
          </div>
        </div>

        <div class="stat-row">
          <div class="stat-box">
            <div class="stat-value" id="statVehicles">—</div>
            <div class="stat-label">Vehicles</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="statServices">—</div>
            <div class="stat-label">Service Records</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="statReminders" style="color: var(--danger);">—</div>
            <div class="stat-label">Reminders Due</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="statSpend">—</div>
            <div class="stat-label">Total Spent</div>
          </div>
        </div>

        <div class="grid-2">
          <div class="card">
            <div class="card-header">
              <h3>Upcoming Reminders</h3>
              <span class="badge badge-yellow" id="reminderCount">—</span>
            </div>
            <div id="overviewReminders">
              <div class="loading-message">Loading...</div>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <h3>Recent Maintenance</h3>
            </div>
            <div id="overviewRecent">
              <div class="loading-message">Loading...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ── VEHICLES ── -->
      <div class="section" id="vehicles-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>My Vehicles</h2>
            <p>Add and manage the vehicles in your garage.</p>
          </div>
          <div class="page-header-right">
            <button class="btn-primary btn-sm" id="showAddVehicleBtn">+ Add Vehicle</button>
          </div>
        </div>

        <!-- Add Vehicle Form (hidden by default) -->
        <div class="card" id="addVehicleForm" style="display: none;">
          <div class="card-header">
            <h3>Add a Vehicle</h3>
            <button class="btn-ghost btn-sm" id="cancelAddVehicleBtn">Cancel</button>
          </div>
          <div id="vehicleMessage" class="message"></div>
          <div class="form-row">
            <div class="form-group">
              <label for="vehicleYear">Year</label>
              <input type="number" id="vehicleYear" placeholder="e.g. 2019"/>
            </div>
            <div class="form-group">
              <label for="vehicleMake">Make</label>
              <input type="text" id="vehicleMake" placeholder="e.g. Toyota"/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="vehicleModel">Model</label>
              <input type="text" id="vehicleModel" placeholder="e.g. Camry"/>
            </div>
            <div class="form-group">
              <label for="vehicleType">Type</label>
              <select id="vehicleType">
                <option value="">Select type</option>
                <option>Sedan</option>
                <option>SUV</option>
                <option>Truck</option>
                <option>Van</option>
                <option>Coupe</option>
                <option>Motorcycle</option>
                <option>Other</option>
              </select>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="vehicleMileage">Current Mileage</label>
              <input type="number" id="vehicleMileage" placeholder="e.g. 45000"/>
            </div>
          </div>
          <div class="form-actions">
            <button class="btn-primary" id="addVehicleBtn">Save Vehicle</button>
            <button class="btn-ghost" id="cancelAddVehicleBtn2">Cancel</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Your Vehicles</h3>
            <span class="badge badge-blue" id="vehicleCount">0 vehicles</span>
          </div>
          <div class="vehicle-grid" id="vehicleList">
            <div class="empty-state">
              <div class="empty-title">No vehicles yet</div>
              <p>Click "Add Vehicle" to get started.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ── MAINTENANCE LOG ── -->
      <div class="section" id="maintenance-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>Maintenance Log</h2>
            <p>Track all service history for your vehicles.</p>
          </div>
          <div class="page-header-right">
            <button class="btn-primary btn-sm" id="showAddMaintenanceBtn">+ Log Service</button>
          </div>
        </div>

        <div class="vehicle-selector">
          <label for="maintenanceVehicleSelect">Vehicle:</label>
          <select id="maintenanceVehicleSelect">
            <option value="">Select a vehicle</option>
          </select>
        </div>

        <!-- Log Service Form (hidden by default) -->
        <div class="card" id="addMaintenanceForm" style="display: none;">
          <div class="card-header">
            <h3>Log a Service</h3>
            <button class="btn-ghost btn-sm" id="cancelAddMaintenanceBtn">Cancel</button>
          </div>
          <div id="maintenanceMessage" class="message"></div>
          <div class="form-row">
            <div class="form-group">
              <label for="serviceType">Service Type</label>
              <select id="serviceType">
                <option value="">Select type</option>
                <option>Oil Change</option>
                <option>Tire Rotation</option>
                <option>Brake Service</option>
                <option>Air Filter</option>
                <option>Battery Replacement</option>
                <option>Transmission Service</option>
                <option>Coolant Flush</option>
                <option>Spark Plugs</option>
                <option>Inspection</option>
                <option>Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="serviceDate">Date</label>
              <input type="date" id="serviceDate"/>
            </div>
          </div>
          <div class="form-row-3">
            <div class="form-group">
              <label for="serviceMileage">Mileage</label>
              <input type="number" id="serviceMileage" placeholder="e.g. 52000"/>
            </div>
            <div class="form-group">
              <label for="serviceCost">Cost ($)</label>
              <input type="number" id="serviceCost" placeholder="e.g. 49.99" step="0.01"/>
            </div>
            <div class="form-group">
              <label for="serviceLocation">Location</label>
              <input type="text" id="serviceLocation" placeholder="e.g. Jiffy Lube"/>
            </div>
          </div>
          <div class="form-group">
            <label for="serviceNotes">Notes</label>
            <input type="text" id="serviceNotes" placeholder="Optional notes"/>
          </div>
          <div class="form-actions">
            <button class="btn-primary" id="addMaintenanceBtn">Save Record</button>
            <button class="btn-ghost" id="cancelAddMaintenanceBtn2">Cancel</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Service History</h3>
          </div>
          <div id="maintenanceList">
            <div class="empty-state">
              <div class="empty-title">No records yet</div>
              <p>Select a vehicle and log your first service.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ── REMINDERS ── -->
      <div class="section" id="reminders-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>Reminders</h2>
            <p>Set upcoming service reminders by date or mileage.</p>
          </div>
          <div class="page-header-right">
            <button class="btn-primary btn-sm" id="showAddReminderBtn">+ Add Reminder</button>
          </div>
        </div>

        <div class="vehicle-selector">
          <label for="remindersVehicleSelect">Vehicle:</label>
          <select id="remindersVehicleSelect">
            <option value="">Select a vehicle</option>
          </select>
        </div>

        <!-- Add Reminder Form (hidden by default) -->
        <div class="card" id="addReminderForm" style="display: none;">
          <div class="card-header">
            <h3>Add a Reminder</h3>
            <button class="btn-ghost btn-sm" id="cancelAddReminderBtn">Cancel</button>
          </div>
          <div id="reminderMessage" class="message"></div>
          <div class="form-row">
            <div class="form-group">
              <label for="reminderServiceType">Service Type</label>
              <select id="reminderServiceType">
                <option value="">Select type</option>
                <option>Oil Change</option>
                <option>Tire Rotation</option>
                <option>Brake Service</option>
                <option>Air Filter</option>
                <option>Battery Replacement</option>
                <option>Transmission Service</option>
                <option>Coolant Flush</option>
                <option>Spark Plugs</option>
                <option>Inspection</option>
                <option>Other</option>
              </select>
            </div>
            <div class="form-group">
              <label for="reminderDueDate">Due Date (optional)</label>
              <input type="date" id="reminderDueDate"/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="reminderDueMileage">Due Mileage (optional)</label>
              <input type="number" id="reminderDueMileage" placeholder="e.g. 55000"/>
            </div>
          </div>
          <div class="form-actions">
            <button class="btn-primary" id="addReminderBtn">Save Reminder</button>
            <button class="btn-ghost" id="cancelAddReminderBtn2">Cancel</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Active Reminders</h3>
          </div>
          <div id="reminderList">
            <div class="empty-state">
              <div class="empty-title">No reminders set</div>
              <p>Select a vehicle and add your first reminder.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ── FUEL TRACKER ── -->
      <div class="section" id="fuel-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>Fuel Tracker</h2>
            <p>Log fillups and monitor fuel efficiency over time.</p>
          </div>
          <div class="page-header-right">
            <button class="btn-primary btn-sm" id="showAddFuelBtn">+ Log Fillup</button>
          </div>
        </div>

        <div class="vehicle-selector">
          <label for="fuelVehicleSelect">Vehicle:</label>
          <select id="fuelVehicleSelect">
            <option value="">Select a vehicle</option>
          </select>
        </div>

        <div class="stat-row" style="grid-template-columns: repeat(3, 1fr);">
          <div class="stat-box">
            <div class="stat-value" id="avgMpg">—</div>
            <div class="stat-label">Average MPG</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="lastMpg">—</div>
            <div class="stat-label">Last MPG</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="totalFuelSpend">—</div>
            <div class="stat-label">Total Fuel Spent</div>
          </div>
        </div>

        <!-- Log Fillup Form (hidden by default) -->
        <div class="card" id="addFuelForm" style="display: none;">
          <div class="card-header">
            <h3>Log a Fillup</h3>
            <button class="btn-ghost btn-sm" id="cancelAddFuelBtn">Cancel</button>
          </div>
          <div id="fuelMessage" class="message"></div>
          <div class="form-row">
            <div class="form-group">
              <label for="fuelDate">Date</label>
              <input type="date" id="fuelDate"/>
            </div>
            <div class="form-group">
              <label for="fuelMileage">Mileage at Fillup</label>
              <input type="number" id="fuelMileage" placeholder="e.g. 53200"/>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="fuelGallons">Gallons</label>
              <input type="number" id="fuelGallons" placeholder="e.g. 12.4" step="0.01"/>
            </div>
            <div class="form-group">
              <label for="fuelPrice">Price per Gallon ($)</label>
              <input type="number" id="fuelPrice" placeholder="e.g. 3.49" step="0.01"/>
            </div>
          </div>
          <div class="form-actions">
            <button class="btn-primary" id="addFuelBtn">Save Fillup</button>
            <button class="btn-ghost" id="cancelAddFuelBtn2">Cancel</button>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>Fillup History</h3>
          </div>
          <div id="fuelList">
            <div class="empty-state">
              <div class="empty-title">No fillups logged</div>
              <p>Select a vehicle and log your first fillup.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- ── COST DASHBOARD ── -->
      <div class="section" id="costs-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>Cost Dashboard</h2>
            <p>A full breakdown of what each vehicle costs you.</p>
          </div>
        </div>

        <div class="vehicle-selector">
          <label for="costsVehicleSelect">Vehicle:</label>
          <select id="costsVehicleSelect">
            <option value="">Select a vehicle</option>
          </select>
          <label for="costsDateFrom">From:</label>
          <input type="date" id="costsDateFrom" style="width:auto;"/>
          <label for="costsDateTo">To:</label>
          <input type="date" id="costsDateTo" style="width:auto;"/>
          <button class="btn-secondary btn-sm" id="costsFilterBtn">Apply</button>
        </div>

        <div class="stat-row" style="grid-template-columns: repeat(3, 1fr);">
          <div class="stat-box">
            <div class="stat-value" id="costMaintTotal">—</div>
            <div class="stat-label">Maintenance Total</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="costFuelTotal">—</div>
            <div class="stat-label">Fuel Total</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="costCombinedTotal" style="color: var(--danger);">—</div>
            <div class="stat-label">Combined Total</div>
          </div>
        </div>

        <div class="grid-2">
          <div class="card">
            <div class="card-header"><h3>By Service Type</h3></div>
            <div id="costByType">
              <div class="empty-state">
                <div class="empty-title">No data yet</div>
                <p>Select a vehicle to view breakdown.</p>
              </div>
            </div>
          </div>
          <div class="card">
            <div class="card-header"><h3>Spending Summary</h3></div>
            <div id="costSummary">
              <div class="empty-state">
                <div class="empty-title">No data yet</div>
                <p>Select a vehicle to view summary.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ── PROFILE ── -->
      <div class="section" id="profile-section">
        <div class="page-header">
          <div class="page-header-left">
            <h2>My Profile</h2>
            <p>Your account details and activity summary.</p>
          </div>
        </div>

        <div class="grid-2">
          <div class="card">
            <div class="card-header"><h3>Account Details</h3></div>
            <div class="form-group">
              <label>Username</label>
              <input type="text" id="profileUsername" readonly/>
            </div>
            <div class="form-group">
              <label>Email</label>
              <input type="text" id="profileEmail" readonly/>
            </div>
            <div class="form-group">
              <label>Member Since</label>
              <input type="text" id="profileCreated" readonly/>
            </div>
          </div>

          <div class="card">
            <div class="card-header"><h3>Activity Summary</h3></div>
            <div class="cost-row">
              <span>Vehicles Registered</span>
              <span class="cost-amount" id="profileVehicles">—</span>
            </div>
            <div class="cost-row">
              <span>Total Service Records</span>
              <span class="cost-amount" id="profileServices">—</span>
            </div>
            <div class="cost-row">
              <span>Fuel Fillups Logged</span>
              <span class="cost-amount" id="profileFillups">—</span>
            </div>
            <div class="cost-row">
              <span>Maintenance Spent</span>
              <span class="cost-amount" id="profileMaintSpend">—</span>
            </div>
            <div class="cost-row">
              <span>Fuel Spent</span>
              <span class="cost-amount" id="profileFuelSpend">—</span>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <script src="js/datamodel.js"></script>
  <script src="js/dashboard.js"></script>

</body>
</html>